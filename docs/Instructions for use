ğŸ“„ 1. Giáº£i thÃ­ch chi tiáº¿t 
+ ft.py (Fine-Tuning): DÃ¹ng Ä‘á»ƒ huáº¥n luyá»‡n láº¡i mÃ´ hÃ¬nh CLIP. NÃ³ Ä‘á»c áº£nh vÃ  mÃ´ táº£ (captions) tá»« táº­p dá»¯ liá»‡u Flickr8k, sau Ä‘Ã³ dáº¡y cho mÃ´ hÃ¬nh cÃ¡ch hiá»ƒu má»‘i liÃªn há»‡ giá»¯a ngÃ´n ngá»¯ vÃ  hÃ¬nh áº£nh cá»¥ thá»ƒ trong táº­p dá»¯ liá»‡u nÃ y.
+ ai2.py (Inference & Server): DÃ¹ng Ä‘á»ƒ cháº¡y á»©ng dá»¥ng. File nÃ y thá»±c hiá»‡n 2 viá»‡c:
TrÃ­ch xuáº¥t Ä‘áº·c trÆ°ng (vector) cá»§a toÃ n bá»™ kho áº£nh Ä‘á»ƒ táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u.
Khá»Ÿi táº¡o má»™t Server (FastAPI) cho phÃ©p báº¡n tÃ¬m kiáº¿m áº£nh báº±ng vÄƒn báº£n hoáº·c báº±ng má»™t áº£nh khÃ¡c (Hybrid Search).
ğŸ›  2. HÆ°á»›ng dáº«n CÃ i Ä‘áº·t
1. CÃ i Ä‘áº·t thÆ° viá»‡n (Chá»‰ cÃ¡c má»¥c cáº§n thiáº¿t)
Má»Ÿ má»™t Ã´ mÃ£ nguá»“n (cell) má»›i vÃ  cháº¡y lá»‡nh nÃ y Ä‘á»ƒ cÃ i Ä‘áº·t mÃ´i trÆ°á»ng:
!pip install transformers torch fastapi uvicorn pyngrok deep-translator
2. Káº¿t ná»‘i dá»¯ liá»‡u
Äá»ƒ mÃ¡y áº£o Colab truy cáº­p Ä‘Æ°á»£c vÃ o bá»™ dá»¯ liá»‡u 8kflick vÃ  Model Ä‘Ã£ lÆ°u cá»§a báº¡n:
from google.colab import drive
drive.mount('/content/drive')
3. Thiáº¿t láº­p GPU
Há»‡ thá»‘ng nÃ y yÃªu cáº§u GPU Ä‘á»ƒ xá»­ lÃ½ vector áº£nh vÃ  vÄƒn báº£n nhanh chÃ³ng:
VÃ o Runtime (Thá»i gian cháº¡y) -> Change runtime type (Thay Ä‘á»•i loáº¡i thá»i gian cháº¡y).
Chá»n T4 GPU.
ğŸš€ 3. HÆ°á»›ng dáº«n Sá»­ dá»¥ng
1. Chuáº©n bá»‹ Dá»¯ liá»‡u (DÃ¹ng ft.py)
Má»¥c Ä‘Ã­ch: Huáº¥n luyá»‡n mÃ´ hÃ¬nh hiá»ƒu táº­p dá»¯ liá»‡u 8kflick.
Thao tÃ¡c: Cháº¡y toÃ n bá»™ file ft.py Ä‘á»ƒ táº¡o vÃ  lÆ°u mÃ´ hÃ¬nh Ä‘Ã£ fine-tune vÃ o Google Drive táº¡i Ä‘Æ°á»ng dáº«n /MyDrive/clip_flickr8k_finetuned.
2. Sá»‘ hÃ³a kho áº£nh (DÃ¹ng ai2.py - Pháº§n Ä‘áº§u)
Má»¥c Ä‘Ã­ch: Chuyá»ƒn toÃ n bá»™ áº£nh trong thÆ° má»¥c thÃ nh cÃ¡c vector toÃ¡n há»c Ä‘á»ƒ mÃ¡y tÃ­nh so sÃ¡nh Ä‘Æ°á»£c.
Thao tÃ¡c:
Cháº¡y hÃ m extract_image_features Ä‘á»ƒ quÃ©t thÆ° má»¥c áº£nh /imgresize/.
Káº¿t quáº£ sáº½ Ä‘Æ°á»£c lÆ°u thÃ nh file image_vectors.npy trÃªn Drive Ä‘á»ƒ lÃ m "cÆ¡ sá»Ÿ dá»¯ liá»‡u" tÃ¬m kiáº¿m.
3. TÃ¬m kiáº¿m & Cháº¡y Server (DÃ¹ng ai2.py - Pháº§n cuá»‘i)
Má»¥c Ä‘Ã­ch: Táº¡o giao diá»‡n káº¿t ná»‘i Ä‘á»ƒ báº¯t Ä‘áº§u truy váº¥n áº£nh.
Thao tÃ¡c:
DÃ¡n mÃ£ Ngrok Token vÃ o biáº¿n NGROK_TOKEN.
Cháº¡y cell cuá»‘i cÃ¹ng Ä‘á»ƒ nháº­n Public URL.
Truy váº¥n: Báº¡n gá»­i tá»« khÃ³a (Text) hoáº·c file áº£nh lÃªn URL nÃ y; há»‡ thá»‘ng sáº½ tÃ­nh Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng Cosine (Cosine Similarity) vÃ  tráº£ vá» 5 áº£nh giá»‘ng nháº¥t dÆ°á»›i dáº¡ng Base64.
LÆ°u Ã½: LuÃ´n Ä‘áº£m báº£o Ä‘Ã£ Mount Drive (drive.mount('/content/drive')) trÆ°á»›c khi cháº¡y báº¥t ká»³ bÆ°á»›c nÃ o.
